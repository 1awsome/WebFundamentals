project_path: /web/_project.yaml
book_path: /web/fundamentals/_book.yaml
description: Группа свойств CSS background позволяет добавлять в элементы комплексные изображения, облегчает добавление сразу нескольких изображений, обеспечивает их повторяемость их и т. д.

{# wf_review_required #}
{# wf_updated_on: 2014-04-29 #}
{# wf_published_on: 2000-01-01 #}

# Изображения в CSS {: .page-title }

{% include "_shared/contributors/TODO.html" %}



Группа свойств CSS background позволяет добавлять в элементы комплексные изображения, облегчает добавление сразу нескольких изображений, обеспечивает их повторяемость их и т. д.  В сочетании с медиазапросами background обеспечивает условную загрузку изображений с учетом разрешения экрана, размеров области просмотра и т. д.



## TL;DR {: .hide-from-toc }
- 'Используйте изображение, которое оптимально подходит под парамеры устройства: размер экрана, разрешение и шаблон страниц.'
- Замените свойство CSS <code>background-image</code> для экранов с высоким разрешением и применением медиазапросов на <code>min-resolution</code> и <code>-webkit-min-device-pixel-ratio</code>.
- Для изображений в высоком разрешении используйте атрибут srcset (наряду с изображениями 1x в разметке).
- Учитывайте эффективность затрат при использовании техники замещения текста изображением в JavaScript или сжатии изображений высокого разрешения для устройств с низким разрешением экрана.


## Используйте медиазапросы для условной загрузки изображений и art direction

Медиазапросы оказывают влияние не только на шаблон страницы, их также можно использовать для условной загрузки изображений и создания эффекта art direction в соответствии с размером области просмотра.

В приведенном ниже примере видно, что на экранах небольшого размера загружен только элемент small.png, он же применен к div. На более крупных экранах свойство background-image: url(body.png) применено к элементу body, а атрибут background-image: url(large.png) применен к div.

<pre class="prettyprint">
{% includecode content_path="web..//fundamentals/design-and-ui/media/images/_code/conditional-mq.html" region_tag="conditional" lang=css %}
</pre>

## Используйте функцию image-set для изображений с высоким разрешением

Функция image-set технологии CSS дополняет группу свойств background: с ее помощью вам будет проще задать несколько изображений для устройств с разными параметрами.  Браузер выберет тот файл, который больше всего подходит для данного устройства с учетом его характеристик. Например, применит 2x изображение для экрана 2x и 1x изображение для экрана 2x, если пропускная способность сети ограничена.


    background-image: image-set(
      url(icon1x.jpg) 1x,
      url(icon2x.jpg) 2x
    );
    

Но это ещё не все. Браузер не только загрузит наиболее подходящее изображение, но и пропорционально изменит его размер
с учетом всех требований. Иными словами, браузер `поймет`, что изображение 2x в два раза тяжелее изображения 1x, и пропорционально уменьшит первое изображение в 2 раза, чтобы сохранить его размер на странице.

Свойство image-set() было введено недавно и поддерживается только в браузерах Chrome и Safari с префиксом -webkit.  Необходимо также предусмотреть резервное изображение на случай, если image-set() не поддерживается. Например:

<pre class="prettyprint">
{% includecode content_path="web..//fundamentals/design-and-ui/media/images/_code/image-set.html" region_tag="imageset" lang=css %}
</pre>

В приведенном выше примере соответствующий цифровой объект будет загружен в браузерах, поддерживающих image-set. В остальных случаях будет использован объект 1x. В настоящее время только немногие браузеры поддерживают image-set(), поэтому, как правило, используются объекты с разрешением 1x.

## Используйте медиазапросы для назначения изображений с высоким разрешением и эффекта art direction

Медиазапросы могут создавать правила на базе [соотношения логических и физических пикселей на устройстве]http://www.html5rocks.com/en/mobile/high-dpi/#toc-bg. Таким образом для экранов 2x и 1x можно применить разные изображения.


    @media (min-resolution: 2dppx),
    (-webkit-min-device-pixel-ratio: 2)
    {
      /* High dpi styles & resources here */
    }
    

Браузеры Chrome, Firefox и Opera поддерживают стандарт (min-resolution: 2dppx). Для браузеров Safari и Android требуются более старые варианты синтаксиса, а которых отсутствует единица dppx.  Обратите внимание, что загрузка стилей возможна только в том случае, если параметры устройства соответствуют медиазапросу. В остальных случаях вам потребуется также назначить стили.  Таким образом вы сможете задать изображение, которое будет выводиться на экран, если браузер не поддерживает медиазапросы, касающиеся разрешения устройства.

<pre class="prettyprint">
{% includecode content_path="web..//fundamentals/design-and-ui/media/images/_code/media-query-dppx.html" region_tag="mqdppx" lang=css %}
</pre>

Вы также можете использовать синтаксис min-width для отображения альтернативных вариантов изображения в соответствии с размером области просмотра.  Преимущество этой техники в том, что при несоответствующем медиазапросе изображение не загружается.  Например, элемент bg.png загружается и применяется к элементу body, только если ширина браузера 500 или более пикселей:


    @media (min-width: 500px) {
      body {
        background-image: url(bg.png);
      }
    }
    	



